package lndurl

import (
	"fmt"
	"github.com/stretchr/testify/require"
	"testing"
)

func TestEncodeDecodeURL(t *testing.T) {
	url := "https://service.com/api?q=3fc3645b439ce8e7f2553a69e5267081d96dcd340693afabe04be7b0ccd178df"
	lnurl := "LNURL1DP68GURN8GHJ7UM9WFMXJCM99E3K7MF0V9CXJ0M385EKVCENXC6R2C35XVUKXEFCV5MKVV34X5EKZD3EV56NYD3HXQURZEPEXEJXXEPNXSCRVWFNV9NXZCN9XQ6XYEFHVGCXXCMYXYMNSERXFQ5FNS"

	res, err := DecodeURL(lnurl)
	require.NoError(t, err)
	require.Equal(t, url, res)

	res, err = EncodeURL(url)
	require.NoError(t, err)
	require.Equal(t, lnurl, res)
}

func TestTemp(t *testing.T) {
	lnurl := "LNURL1DP68GURN8GHJ7MRWWPSHJTNRDUHKG6TNW3EX7TTJDA6HGETJ9AKXUATJDSKHW6T5DPJ8YCTH8AKXU5RP09GXZUNPD4EN6ETEFFAXZ3EE09JYVWF3VDKHW620D99XJNT2T9M5U3RTD9XYXJNTV9VYUVRRD5UKVCNDGE69556FXEYK6MR5T9TKGMZFD9MKJCJ8X4G4JKRVGAV4S4N2TFV9Y42E2A3KJNMFFFXXZ46XGAXKJJTNF9H9V7J6TP9XVC68GC64SV33D3JYW6RKTFP5JDJFD4U82EZCFFE5JM3SY5E5GFNXV96KXET5TA5XZUMG84NXXAZLVERK6NENTFKNG4JX8P2RQERJ89AXC3NDG4CQ2Y9835"
	res, err := DecodeURL(lnurl)
	require.NoError(t, err)
	fmt.Println(res)
}
